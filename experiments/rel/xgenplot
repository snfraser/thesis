#!/bin/csh

cat xgen.dat | grep "SCORE 0.5" > xgen_05.dat
cat xgen.dat | grep "SCORE 1.0" > xgen_1.dat
cat xgen.dat | grep "SCORE 2.0" > xgen_2.dat
cat xgen.dat | grep "SCORE 4.0" > xgen_4.dat
cat xgen.dat | grep "SCORE 6.0" > xgen_6.dat

/usr/bin/gnuplot -persist << EOF

set xrange [0: 360]
set yrange [70:110]
set key right bottom
set title "Variation of Q_{SU} with environmental stability for QLAS with variable horizon length"
set xlabel "Environmental stability {/Symbol t}_E [mins]"
set ylabel "Schedule quality Q_{SU}"
set output "horiz_env_su2.eps"
set term postscript eps enhanced color
plot "xgen_05.dat" using 3:4:5 wi errorlines ti "H=0.5h", \
      "xgen_1.dat" using 3:4:5 wi errorlines ti "H=1.0h", \
      "xgen_2.dat" using 3:4:5 wi errorlines ti "H=2.0h", \
      "xgen_4.dat" using 3:4:5 wi errorlines ti "H=4.0h", \
      "xgen_6.dat" using 3:4:5 wi errorlines ti "H=6.0h"

EOF

cat xgen.dat | grep "OVER 0" > xrel_05.dat
cat xgen.dat | grep "OVER 1" > xrel_1.dat
cat xgen.dat | grep "OVER 2" > xrel_2.dat
cat xgen.dat | grep "OVER 3" > xrel_4.dat
cat xgen.dat | grep "OVER 4" > xrel_6.dat


/usr/bin/gnuplot -persist << EOF

#set xrange [0: 360]
#set yrange [70:110]
#set xrange [0: 360]
#set yrange [70:110]
set key right top
set title "Variation of Q_{SU} with reliability of environmental stability estimate for QLAS with variable horizon length"
set xlabel "Environmental stability over-estimation fraction q_E [mins]"
set ylabel "Schedule quality Q_{SU}"
set output "horiz_reliability.eps"
set term postscript eps enhanced color
plot "xrel_05.dat" using 3:4:5 wi errorlines ps 1 pt 5 ti "H=0.5h", \
      "xrel_1.dat" using 3:4:5 wi errorlines ps 1 pt 5 ti "H=1.0h", \
      "xrel_2.dat" using 3:4:5 wi errorlines ps 1 pt 5 ti "H=2.0h", \
      "xrel_4.dat" using 3:4:5 wi errorlines ps 1 pt 5 ti "H=4.0h", \
      "xrel_6.dat" using 3:4:5 wi errorlines ps 1 pt 5 ti "H=6.0h"

EOF

